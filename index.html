<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Image Auto Edge Detection and Cropping</title>
    
    <link rel="stylesheet" href="./style.css">

    <!--Primary CDN Dependencies-->
    <!-- OpenCV -->
    <!-- <script src="https://docs.opencv.org/4.x/opencv.js" type="text/javascript"></script> -->
    <script src="./lib/opencv.js" ></script>
    <script src="./lib/jscanify.js"></script>
    
    <!-- Cropper.js -->
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" rel="stylesheet"> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12 /cropper.min.js"></script> -->
    <link rel="stylesheet" href="./lib/cropper.min.css">
    <script src="./lib/cropper.min.js" ></script>
  
  </head>
  <body>
    <div class="fixed-top">
      <nav class="custom-nav bg-main-theme">
        <div class="row">
          <div class="col-12 d-flex justify-content-center text-center mt-4">
              <h2 class="p-0 m-0" >Image Auto Edge Detection and Cropping</h2>
          </div>
        </div>
      </nav>
    </div>
      <div class="mt-5">&nbsp;</div>





      <div class="mt-5"> 
        <!-- 1st Page -->
        <div class="mt-2" id="user-disclaimer">
          <p class="text-center" >
            Please place your document on top of dark background to detect the edges of the document clearly
          </p>
          <p class="text-center" >
            Place your camera precisely at the top of the document and capture clearly
          </p>
          <p class="text-center" >
            Please click the "Capture" button to capture Images with your device camera.
          </p>
        </div>
        <div class="mt-2" id="add-images-disclaimer">
          <p class="text-center" >
            Please click the "Capture" button to add additional images. This will allow you to capture all the pages of the Document.
          </p>
        </div>
        <div class="d-flex justify-content-center align-items-center p-0 m-0">
            <label id="captureFile" class="btn btn-light m-2 btn-lg" title="Upload document from camera" >
                <i class="fas fa-camera col-main-theme"></i>
                <p class="m-0 p-0" ><strong>Capture</strong></p>
                <input type="file" id="imageInput" accept="image/*" capture="environment" style="display: none;">
            </label>
        </div>
      </div>
      <div id="uploadFileToAPI" ></div>
      <div id="uploadFileToAPIStatus" ></div>
      <hr>
      <div class="thumbnails" id="thumbnails"></div>
      <div class="container-fluid mt-3 mb-5" id="captureFileSubmitButton">
        <div class="text-center">
          <button class="btn btn-sm bg-main-theme">
            <i class="fa fa-upload" aria-hidden="true"></i>
          </button>
        </div>
      </div>
      <hr>
      <div id="fileStatus" class="text-center mt-3"></div>
        <div>
          <canvas id="canvas" style="display:none;"></canvas>
          <img id="image" style="display:none;">
        </div>
        <br>
        <div class="container">


          
          <div class="container-fluid text-center">
            <button id="confirmCropButton" class="btn btn-lg btn-success m-5">
              <i class="fa fa-check"></i>
            </button>
            <button id="rejectImage" class="btn btn-lg btn-secondary m-5">
              <i class="fa fa-times"></i>
            </button>
            <button id="submitImages" class="btn btn bg-main-theme btn-lg bigButton">
              Next
            </button>
          </div>
        </div>
        <div class="container-fluid mt-3 mb-5" style="display:none">
          <div class="text-center">
            <button id="addImageToGallery" class="btn btn-sm btn-success">
              <i class="fa fa-plus"></i>
            </button>
          </div>
        </div>



      <div class="mt-5 mb-5">&nbsp;</div>







      <nav id="fixed-footer" class="navbar fixed-bottom navbar-light bg-main-theme text-center justify-content-center p-1">
          <p class="text-center m-0 p-0" > &nbsp; </p>
      </nav>
      <!--Secondary CDN Dependencies-->
      <!-- Bootstrap 4-->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
      <!--FontAwesome 5-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
      <script src="index.js"></script>
  </body>
</html>